sap.ui.define(["sap/ui/core/mvc/Controller","application/controller/BaseController"],function(e,o){"use strict";return o.extend("application.controller.Menu",{onInit:function(){this.getRouter().getRoute("menu").attachPatternMatched(this.onRouteMatched,this)},onRouteMatched:function(e){var o=this;this.oModel=this.getView().getModel();var t=this.getModelGlobal("modelAux").getProperty("/CodRepres");var n="";var i=true;this.byId("idPage").setBusy(true);new Promise(function(e,a){o.oModel.read("/P_PedidoQ/$count",{urlParameters:{$filter:"IvUsuario eq '"+t+"' and IvKunnr eq '"+n+"' and IvEnvio eq "+i},success:function(o){e(o)},error:function(e){a(e)}})}).then(function(e){var t=o.getModelGlobal("modelMenu").getData();var n={Principal:[],Consultas:[],Relatorios:[]};for(var i=0;i<t.length;i++){var a=t[i].Posicao;var r={id:"",icon:"",title:"",info:"",visible:"",number:""};r.id=t[i].IdMenu;r.icon=t[i].Icone;r.title=t[i].DescMenu;r.info=t[i].InfoAdic;r.visible=t[i].Ativo;r.number=t[i].Numero;if(a=="01"){if(r.id=="P02"){r.number=e}n.Principal.push(r)}else if(a=="02"){n.Consultas.push(r)}else if(a=="03"){n.Relatorios.push(r)}}o.getModel("menu").setData(n);o.byId("idPage").setBusy(false)}).catch(function(e){o.byId("idPage").setBusy(false);o.onMensagemErroODATA(e)})},onTile:function(e){switch(e.getSource().data("opcao")){case"P01":sap.ui.core.UIComponent.getRouterFor(this).navTo("pedido");break;case"P02":sap.ui.core.UIComponent.getRouterFor(this).navTo("enviarPedidos");break;case"P03":sap.ui.core.UIComponent.getRouterFor(this).navTo("menuRelatorios");break;case"P04":sap.ui.core.UIComponent.getRouterFor(this).navTo("menuConsultas");break;default:sap.ui.core.UIComponent.getRouterFor(this).navTo("NotFound");break}},onMenu:function(){},onDialogCloseImagem:function(){if(this._ItemDialog){this._ItemDialog.destroy(true)}},onAfterRendering:function(){}})});