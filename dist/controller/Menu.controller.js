sap.ui.define(["sap/ui/core/mvc/Controller","application/controller/BaseController"],function(e,t){"use strict";return t.extend("application.controller.Menu",{onInit:function(){this.getRouter().getRoute("menu").attachPatternMatched(this.onRouteMatched,this)},onRouteMatched:function(e){var t=this;this.oModel=this.getView().getModel();var o=this.getModelGlobal("modelAux").getProperty("/CodRepres");var n="";var i=true;this.byId("idPage").setBusy(true);new Promise(function(e,r){t.oModel.read("/P_PedidoQ/$count",{urlParameters:{$filter:"IvUsuario eq '"+o+"' and IvKunnr eq '"+n+"' and IvEnvio eq "+i},success:function(t){e(t)},error:function(e){r(e)}})}).then(function(e){var o=t.getModelGlobal("modelMenu").getData();var n={Principal:[],Consultas:[],Relatorios:[]};for(var i=0;i<o.length;i++){var r=o[i].Posicao;var a={id:"",icon:"",title:"",info:"",visible:"",number:""};a.id=o[i].IdMenu;a.icon=o[i].Icone;a.title=o[i].DescMenu;a.info=o[i].InfoAdic;a.visible=o[i].Ativo;a.number=o[i].Numero;if(r=="01"){if(a.id=="P02"){a.number=e}n.Principal.push(a)}else if(r=="02"){n.Consultas.push(a)}else if(r=="03"){n.Relatorios.push(a)}}t.getModel("menu").setData(n);t.byId("idPage").setBusy(false)}).catch(function(e){t.byId("idPage").setBusy(false);t.onMensagemErroODATA(e)})},onMenu:function(){},onDialogCloseImagem:function(){if(this._ItemDialog){this._ItemDialog.destroy(true)}},onAfterRendering:function(){}})});
//# sourceMappingURL=Menu.controller.js.map