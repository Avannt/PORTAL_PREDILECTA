sap.ui.define(["sap/ui/core/mvc/Controller","application/controller/BaseController","sap/ui/model/json/JSONModel"],function(e,o,t){"use strict";return o.extend("application.controller.Menu",{onInit:function(){this.getRouter().getRoute("menu").attachPatternMatched(this.onRouteMatched,this)},onRouteMatched:function(e){var o=this;var t=o.getModelGlobal("modelAux").getProperty("/CodRepres");var n="";var i=true;var r=true;o.oModel=o.getModel();new Promise(function(e,a){o.onBuscarPedidos(n,t,i,e,a,o,r)}).then(function(e){o.getModelGlobal("modelAux").setProperty("/PedidosPend",e);var t=o.getModelGlobal("modelMenu").getData();var n={Principal:[],Consultas:[],Relatorios:[]};for(var i=0;i<t.length;i++){var r=t[i].Posicao;var a={id:"",icon:"",title:"",info:"",visible:"",number:""};a.id=t[i].IdMenu;a.icon=t[i].Icone;a.title=t[i].DescMenu;a.info=t[i].InfoAdic;a.visible=t[i].Ativo;if(t[i].IdMenu=="P02"){a.number=o.getModelGlobal("modelAux").getProperty("/PedidosPend")}else{a.number=t[i].Numero}if(r=="01"){n.Principal.push(a)}else if(r=="02"){n.Consultas.push(a)}else if(r=="03"){n.Relatorios.push(a)}}o.getModel("menu").setData(n)}).catch(function(e){o.onMensagemErroODATA(e)})},onTile:function(e){switch(e.getSource().data("opcao")){case"P01":sap.ui.core.UIComponent.getRouterFor(this).navTo("pedido");break;case"P02":sap.ui.core.UIComponent.getRouterFor(this).navTo("enviarPedidos");break;case"P03":sap.ui.core.UIComponent.getRouterFor(this).navTo("menuRelatorios");break;case"P04":sap.ui.core.UIComponent.getRouterFor(this).navTo("menuConsultas");break;default:sap.ui.core.UIComponent.getRouterFor(this).navTo("NotFound");break}},onMenu:function(){},onDialogCloseImagem:function(){if(this._ItemDialog){this._ItemDialog.destroy(true)}},onAfterRendering:function(){}})});