sap.ui.define(["application/controller/BaseController","sap/ui/core/routing/History","sap/ui/model/json/JSONModel","application/model/formatter"],function(e,o,t,r){"use strict";return e.extend("application.controller.verbaConsultasDetalhe",{onInit:function(e){this.getRouter().getRoute("verbaConsultasDetalhe").attachPatternMatched(this._onLoadFields,this)},_onLoadFields:function(){var e=this;var o=new t({Bukrs:"",CodMotivVerba:"",DatMovto:"",HraMovto:"",IdMovtoVerba:"",IvUsuario:"",Lifnr:"",NrPedido:"",OrigemMovto:"",Periodo:"",TipoMovto:"",Usuario:"",ValMovto:"",ValSaldo:""});e.setModel(o,"modelMov");var r=this.getModelGlobal("modelVerba").getProperty("/Bukrs");var a=this.getModelGlobal("modelVerba").getProperty("/Periodo");var l=e.getModelGlobal("modelAux").getProperty("/CodRepres");e.oModel=e.getModelGlobal("modelAux").getProperty("/DBModel");var s=r+"."+a;this.byId("idTopLevelIconTabBar").setSelectedKey("tab1");var i=[];e.oModel.read("/P_MovtoVerbas",{urlParameters:{$filter:"IvUsuario eq '"+l+"'"},success:function(o){e.vetorMovVerbasAux=o.results;e.vetorMovVerbas=[];for(var t=0;t<e.vetorMovVerbasAux.length;t++){if(e.vetorMovVerbasAux[t].Bukrs==r){e.vetorMovVerbas.push(e.vetorMovVerbasAux[t])}}e.getModel("modelMov").setData(e.vetorMovVerbas)},error:function(o){e.byId("detail").setBusy(false);e.onMensagemErroODATA(o)}})},formatTipo:function(e){if(e=="02"){return"Crédito"}else if(e=="01"){return"Débito"}}})});