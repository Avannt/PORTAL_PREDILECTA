sap.ui.define(["application/controller/BaseController","sap/ui/core/routing/History"],function(e,t){"use strict";return e.extend("application.controller.verbaConsultasDetalhe",{onInit:function(e){this.getRouter().getRoute("verbaConsultasDetalhe").attachPatternMatched(this._onLoadFields,this)},onAfterRendering:function(){},onNavBack:function(e){var o,a;o=t.getInstance();a=o.getPreviousHash();if(a!==undefined){window.history.go(-1)}else{this.getRouter().navTo("clienteConsultas",{},true)}},_onLoadFields:function(){var e=new sap.ui.model.json.JSONModel;this.getView().setModel(e);this.byId("idTopLevelIconTabBar").setSelectedKey("tab1");this.byId("idTopLevelIconTabBar").setSelectedKey("tab1");this.byId("idTopLevelIconTabBar").setSelectedKey("tab2");this.byId("idTopLevelIconTabBar").setSelectedKey("tab1");this.getView().byId("idCodigoCliente").setValue(this.getOwnerComponent().getModel("modelVerba").getProperty("/idUsuarioVerba"));this.getView().byId("idNomeEmpresa").setValue(this.getOwnerComponent().getModel("modelVerba").getProperty("/nomeEmpresaVerba"));this.getView().byId("idPeriodo").setValue(this.getOwnerComponent().getModel("modelVerba").getProperty("/dataLancamentoVerba"));this.getView().byId("idVerbaInicial").setValue(this.getOwnerComponent().getModel("modelVerba").getProperty("/verbaInicialVerba"));this.getView().byId("idDebito").setValue(this.getOwnerComponent().getModel("modelVerba").getProperty("/valorDebitoVerba"));this.getView().byId("idCredito").setValue(this.getOwnerComponent().getModel("modelVerba").getProperty("/valorCreditoVerba"));this.getView().byId("idVerbaFinal").setValue(this.getOwnerComponent().getModel("modelVerba").getProperty("/VerbaFinalVerba"));var t=[];var o=this;var a=indexedDB.open("VB_DataBase");a.onerror=function(){alert(a.error.mensage)};a.onsuccess=function(){var r=a.result;var i=r.transaction("TabelaMovimentacao").objectStore("TabelaMovimentacao");var n=o.getOwnerComponent().getModel("modelVerba").getProperty("/idEmpresaVerba");var s=o.getOwnerComponent().getModel("modelVerba").getProperty("/idUsuarioVerba");i.openCursor().onsuccess=function(a){var r=a.target.result;if(r){if(r.value.CodEmpresa==n&&r.value.CodRepres==s){t.push(r.value)}r.continue()}else{for(var i=0;i<t.length;i++){var d=t[i].Data;var l=t[i].Hora;var b=t[i].Tipo;var g=d.substr(0,2);var u=d.substr(3,2);var p=d.substr(8,2);var c=g+"/"+u+"/"+p;t[i].Tipo=b.substr(0,3);t[i].Data=c;t[i].Hora=l.substr(0,5)}e=new sap.ui.model.json.JSONModel(t);o.getView().setModel(e)}}}}})});