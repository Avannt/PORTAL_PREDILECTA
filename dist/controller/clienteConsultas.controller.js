sap.ui.define(["application/controller/BaseController","sap/ui/model/json/JSONModel","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/core/routing/History"],function(e,t,o,i){"use strict";var r=[];return e.extend("application.controller.clienteConsultas",{onInit:function(){this.getRouter().getRoute("clienteConsultas").attachPatternMatched(this._onCreateModel,this)},_onCreateModel:function(){var e=this;var o=e.getModelGlobal("modelAux").getProperty("/CodRepres");e.oModel=e.getModelGlobal("modelAux").getProperty("/DBModel");e.oModel.read("/ClienteQ",{urlParameters:{$filter:"IvUsuario eq '"+o+"'"},success:function(o){var i=[];e.vetorClientes=o.results;var r=new t(e.vetorClientes);e.setModelGlobal(r,"modelCliente");e.setModel(r,"modelClientes")},error:function(t){e.onMensagemErroODATA(t)}});e.byId("searchField").setValue("")},onNavBack:function(){sap.ui.core.UIComponent.getRouterFor(this).navTo("menuConsultas")},onSearch:function(e){var t=e.getSource().getValue();var o=[];var i=[new sap.ui.model.Filter("Kunnr",sap.ui.model.FilterOperator.StartsWith,t),new sap.ui.model.Filter("Name1",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("Stras",sap.ui.model.FilterOperator.StartsWith,t),new sap.ui.model.Filter("Ort01",sap.ui.model.FilterOperator.StartsWith,t),new sap.ui.model.Filter("Regio",sap.ui.model.FilterOperator.StartsWith,t),new sap.ui.model.Filter("Stcd1",sap.ui.model.FilterOperator.StartsWith,t)];var r=new sap.ui.model.Filter(i,false);o.push(r);this.byId("table_clientes").getBinding("items").filter(o,"Application")},onInicializaClientes:function(){var e=new sap.ui.model.json.JSONModel;this.setModelGlobal(e,"Cliente");this.setModel(e,"Clientes")},onSelectionChange:function(e){var t=e.getParameter("listItem")||e.getSource();this.getOwnerComponent().getModel("modelCliente").setProperty("/codigoCliente",t.getBindingContext("modelClientes").getProperty("Kunnr"));sap.ui.core.UIComponent.getRouterFor(this).navTo("clienteConsultasDetalhe")}})});
//# sourceMappingURL=clienteConsultas.controller.js.map